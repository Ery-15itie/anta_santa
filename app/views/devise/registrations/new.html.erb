<%# 新規登録画面: Anta-Santa村への入り口 (Village Entrance Style - Complete Guide) %>

<div class="min-h-screen bg-[#271c19] font-serif pb-20 relative overflow-x-hidden text-[#3e2723]">
  
  <%# 背景: 夜の森と村の雰囲気 %>
  <div class="fixed inset-0 opacity-60 pointer-events-none" 
       style="background-image: radial-gradient(circle at 50% 30%, #4e342e 0%, #271c19 70%);">
  </div>
  <%# 雪のエフェクト %>
  <div class="fixed inset-0 opacity-20 pointer-events-none"
       style="background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCI+CjxjaXJjbGUgY3g9IjUiIGN5PSI1IiByPSIxIiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuNSIvPgo8L3N2Zz4='); background-size: 100px 100px;">
  </div>

  <div class="container mx-auto px-4 py-12 max-w-5xl relative z-10 flex flex-col items-center justify-center">
    
    <%# --- 1. 新規登録エリア (暖炉と扉) --- %>
    <div class="w-full bg-white rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] overflow-hidden mb-16 flex flex-col md:flex-row min-h-[600px] border-4 border-[#3e2723]">
      
      <%# 左側: 入力フォーム %>
      <div class="w-full md:w-1/2 p-8 sm:p-12 flex flex-col justify-center bg-[#fff8e1] relative">
        <div class="text-center mb-8">
          <h2 class="text-3xl font-black text-[#3e2723] tracking-widest mb-2" style="font-family: 'Courier New', Courier, monospace;">
            Sign Up
          </h2>
          <p class="text-xs text-[#8d6e63] font-bold uppercase tracking-wider">新しいサンタさんとして登録</p>
        </div>

        <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { class: "space-y-5", data: { turbo: false } }) do |f| %>
          <%= render "devise/shared/error_messages", resource: resource %>

          <div>
            <%= f.label :username, "お名前 (ニックネーム)", class: "block text-xs font-bold text-[#e65100] mb-1" %>
            <%= f.text_field :username, autofocus: true, autocomplete: "username", placeholder: "サンタ 太郎",
                class: "w-full bg-white border border-[#ffcc80] text-[#3e2723] px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#ef6c00] focus:border-transparent transition" %>
          </div>

          <div>
            <%= f.label :email, "メールアドレス", class: "block text-xs font-bold text-[#e65100] mb-1" %>
            <%= f.email_field :email, autocomplete: "email", placeholder: "santa@example.com",
                class: "w-full bg-white border border-[#ffcc80] text-[#3e2723] px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#ef6c00] focus:border-transparent transition" %>
          </div>

          <div>
            <%= f.label :password, "パスワード", class: "block text-xs font-bold text-[#e65100] mb-1" %>
            <% if @minimum_password_length %>
              <span class="text-[10px] text-[#a1887f]">(<%= @minimum_password_length %>文字以上)</span>
            <% end %>
            <%= f.password_field :password, autocomplete: "new-password", placeholder: "••••••••",
                class: "w-full bg-white border border-[#ffcc80] text-[#3e2723] px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#ef6c00] focus:border-transparent transition" %>
          </div>

          <div>
            <%= f.label :password_confirmation, "パスワード (確認)", class: "block text-xs font-bold text-[#e65100] mb-1" %>
            <%= f.password_field :password_confirmation, autocomplete: "new-password", placeholder: "••••••••",
                class: "w-full bg-white border border-[#ffcc80] text-[#3e2723] px-4 py-3 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#ef6c00] focus:border-transparent transition" %>
          </div>

          <div class="pt-4">
            <%= f.submit "扉を開ける (登録)", 
                class: "w-full py-3 px-4 bg-gradient-to-r from-[#ef6c00] to-[#c62828] text-white font-bold rounded-full shadow-lg hover:from-[#f57c00] hover:to-[#d32f2f] hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 cursor-pointer border-2 border-[#fff3e0]" %>
          </div>
        <% end %>

        <div class="mt-6 text-center pt-4 border-t border-[#ffe0b2]">
          <p class="text-xs text-[#8d6e63] mb-2">すでに住民登録がお済みですか？</p>
          <%= link_to "ログインはこちら", new_session_path(resource_name), class: "text-[#e65100] font-bold hover:text-[#bf360c] hover:underline" %>
        </div>
      </div>

 <%# 右側: ウェルカムビジュアル %>
      <div class="w-full md:w-1/2 p-10 lg:p-16 flex flex-col justify-center items-center text-center relative overflow-hidden text-white"
           style="background: linear-gradient(135deg, #d84315 0%, #ef6c00 50%, #ff9800 100%);">
        <div class="absolute top-0 left-0 w-full h-full bg-black opacity-10 mix-blend-overlay"></div>
        <div class="relative z-10">
          <div class="text-6xl mb-6 drop-shadow-md animate-pulse">🔥</div>
          <h1 class="text-3xl lg:text-4xl font-black mb-4 drop-shadow-md">
            Welcome to<br>Anta-Santa Village
          </h1>
          <p class="text-lg font-medium opacity-90 leading-relaxed">
            ここは、一年中クリスマスが続く村。<br>
            温かい暖炉の火が、<br>
            あなたの帰りを待っています。
          </p>
        </div>
      </div>
    </div>

    <%# --- 2. アップデート情報 (村の掲示板) --- %>
    <div class="w-full max-w-4xl mb-16">
      <div class="bg-[#5d4037] p-3 rounded-t-lg mx-4 border-x-4 border-t-4 border-[#3e2723] shadow-md relative z-0">
        <h3 class="text-center text-[#ffecb3] font-bold tracking-[0.2em] text-sm">VILLAGE NOTICE BOARD</h3>
      </div>
      <div class="bg-[#fdf6e3] p-8 rounded-lg shadow-xl border-8 border-[#5d4037] relative z-10">
        <div class="absolute top-4 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-[#b71c1c] shadow-sm border border-[#e57373]"></div>
        
        <h3 class="text-xl font-bold text-[#3e2723] text-center mb-6 border-b-2 border-dashed border-[#a1887f] pb-3 inline-block w-full">
          📢 アップデート情報
        </h3>
        
        <ul class="space-y-4 text-[#4e342e]">
          <li class="flex items-start gap-3">
            <span class="bg-[#2e7d32] text-white text-[10px] px-2 py-1 rounded font-bold mt-1 shrink-0">UPDATE</span>
            <div>
              <strong class="block text-sm font-bold">2025/11/24 初期アップデート（ギフトホールリニューアル）を行いました</strong>
              <span class="text-xs opacity-80">お手紙機能のデザインを一新し、より温かい体験をお届けできるようになりました。</span>
            </div>
          </li>
        </ul>
      </div>
    </div>

    <%# --- 3. Heartory Home ガイドブック (アプリ概要) --- %>
    <div class="w-full bg-[#fffdf5] p-8 sm:p-12 rounded-sm shadow-2xl border border-[#d7ccc8] mb-16 relative transform rotate-[-0.5deg]">
      <%# 紙の質感 %>
      <div class="absolute inset-0 opacity-30 pointer-events-none" style="background-image: url('https://www.transparenttextures.com/patterns/cream-paper.png');"></div>
      
      <div class="text-center mb-12 relative z-10">
        <span class="bg-[#3e2723] text-[#ffecb3] px-4 py-1 rounded-full text-xs font-bold tracking-widest uppercase">GUIDE BOOK</span>
        <h2 class="text-3xl font-black text-[#3e2723] mt-4 mb-4 font-serif">Heartory Home の歩き方</h2>
        <p class="text-[#5d4037] text-base leading-loose max-w-2xl mx-auto font-medium">
          Heart（心）＋ Story（物語）。<br>
          ここは、自身の “心の物語を育てていく家” です。<br>
          家の中の一つひとつの部屋には、あなたの内面を整理するための仕掛けが用意されています。
        </p>
      </div>

      <%# 部屋の紹介 (10部屋) %>
      <div class="relative z-10 mb-12">
        <h3 class="text-xl font-bold text-[#3e2723] text-center mb-8 ">
        🏠家の間取りと役割
        </h3>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <%# 1階 %>
          <div class="bg-[#fff8e1] p-6 rounded border-2 border-[#ffe0b2] shadow-sm">
            <h4 class="text-orange-800 font-black mb-4 flex items-center border-b border-orange-200 pb-2"><span class="text-xl mr-2">1F</span> Core & Daily Life</h4>
            <ul class="space-y-4 text-sm">
              <li class="flex gap-3">
                <span class="text-2xl shrink-0">🎁</span>
                <div><strong class="text-[#3e2723] block font-bold">① 玄関：ギフトホール</strong><span class="text-[#5d4037]">他者からの優しさを受け取る、メールボックスのある場所。「自分は誰かにとって価値がある」と実感できる場所。</span></div>
              </li>
              <li class="flex gap-3">
                <span class="text-2xl shrink-0">🔥</span>
                <div><strong class="text-[#3e2723] block font-bold">② リビング：感情の暖炉</strong><span class="text-[#5d4037]">感情ログ。今の気持ちを見つめ、感情を燃やして昇華する場所。</span></div>
              </li>
              <li class="flex gap-3">
                <span class="text-2xl shrink-0">📜</span>
                <div><strong class="text-[#3e2723] block font-bold">③ 書斎：サンタの書斎</strong><span class="text-[#5d4037]">価値観マップと人生地図。自分の軸を見つけ、生き方の指針を知る場所。</span></div>
              </li>
              <li class="flex gap-3">
                <span class="text-2xl shrink-0">❄️</span>
                <div><strong class="text-[#3e2723] block font-bold">④ アトリエ：雪の結晶</strong><span class="text-[#5d4037]">性格診断。自分の特性を「結晶」として可視化し、強み・弱みを優しく知る場所。</span></div>
              </li>
              <li class="flex gap-3">
                <span class="text-2xl shrink-0">🍪</span>
                <div><strong class="text-[#3e2723] block font-bold">⑤キッチン</strong><span class="text-[#5d4037]">セルフケアと休息。心のクッキー作りで「自分を大切にする方法」を学ぶ場所。</span></div>
              </li>
            </ul>
          </div>

          <%# 2階・地下 %>
          <div class="bg-[#e0f2f1] p-6 rounded border-2 border-[#b2dfdb] shadow-sm">
            <h4 class="text-teal-800 font-black mb-4 flex items-center border-b border-teal-200 pb-2"><span class="text-xl mr-2">2F & B1</span> Future & Growth</h4>
            <ul class="space-y-4 text-sm">
              <li class="flex gap-3">
                <span class="text-2xl shrink-0">🌠</span>
                <div><strong class="text-[#3e2723] block font-bold">⑥ 屋根裏：プランニング</strong><span class="text-[#5d4037]">未来設計。目標や夢を育成し、未来の自分をデザインする場所。</span></div>
              </li>
              <li class="flex gap-3">
                <span class="text-2xl shrink-0">🦌</span>
                <div><strong class="text-[#3e2723] block font-bold">⑦ 小屋：トナカイの厩舎</strong><span class="text-[#5d4037]">9つの強み（トナカイ）を育て、「自分は何ができる？」に答える場所。</span></div>
              </li>
              <li class="flex gap-3">
                <span class="text-2xl shrink-0">🎄</span>
                <div><strong class="text-[#3e2723] block font-bold">⑧ 中庭：クリスマスツリー</strong><span class="text-[#5d4037]">成長の象徴。部屋の活動によって飾りが増え、自己理解の進捗が光り出す場所。</span></div>
              </li>
              <li class="flex gap-3">
                <span class="text-2xl shrink-0">🖼</span>
                <div><strong class="text-[#3e2723] block font-bold">⑨ 廊下：思い出ギャラリー</strong><span class="text-[#5d4037]">過去から学ぶ。過去の成果や言葉を飾り、頑張ってきた自分を肯定する場所。</span></div>
              </li>
              <li class="flex gap-3">
                <span class="text-2xl shrink-0">🕯</span>
                <div><strong class="text-[#3e2723] block font-bold">⑩ 地下室：秘密の工房</strong><span class="text-[#5d4037]">弱さと共に生きる練習。不安や挫折を閉じ込めず、そっと置いておける安全地帯。</span></div>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <%# トナカイ一覧 %>
      <div class="relative z-10">
        <h3 class="text-xl font-bold text-[#3e2723] text-center mb-6 ">
        🦌あなたが育てる9頭のトナカイたち（あなたの強み）
        </h3>
        <div class="overflow-x-auto rounded-lg border border-[#d7ccc8]">
          <table class="w-full text-sm text-left text-[#5d4037] border-collapse">
            <thead class="text-xs text-[#3e2723] uppercase bg-[#d7ccc8]">
              <tr>
                <th class="px-4 py-3">ICON</th>
                <th class="px-4 py-3">NAME</th>
                <th class="px-4 py-3">MEANING</th>
              </tr>
            </thead>
            <tbody class="bg-white">
              <tr class="border-b border-[#efebe9] hover:bg-[#fff8e1]"><td class="px-4 py-2 font-bold">🔥</td><td class="px-4 py-2 font-bold">ブレイズ (Blaze)</td><td class="px-4 py-2">情熱・行動力</td></tr>
              <tr class="border-b border-[#efebe9] hover:bg-[#fff8e1]"><td class="px-4 py-2 font-bold">💡</td><td class="px-4 py-2 font-bold">ルキス (Lucis)</td><td class="px-4 py-2">洞察・気づき</td></tr>
              <tr class="border-b border-[#efebe9] hover:bg-[#fff8e1]"><td class="px-4 py-2 font-bold">🍯</td><td class="px-4 py-2 font-bold">ミエル (Miel)</td><td class="px-4 py-2">優しさ・共感</td></tr>
              <tr class="border-b border-[#efebe9] hover:bg-[#fff8e1]"><td class="px-4 py-2 font-bold">🎨</td><td class="px-4 py-2 font-bold">イデア (Idea)</td><td class="px-4 py-2">創造・アイデア</td></tr>
              <tr class="border-b border-[#efebe9] hover:bg-[#fff8e1]"><td class="px-4 py-2 font-bold">🌱</td><td class="px-4 py-2 font-bold">クレスコ (Cresco)</td><td class="px-4 py-2">成長・努力</td></tr>
              <tr class="border-b border-[#efebe9] hover:bg-[#fff8e1]"><td class="px-4 py-2 font-bold">🛡️</td><td class="px-4 py-2 font-bold">ノービレ (Nobile)</td><td class="px-4 py-2">誠実・責任感</td></tr>
              <tr class="border-b border-[#efebe9] hover:bg-[#fff8e1]"><td class="px-4 py-2 font-bold">❄️</td><td class="px-4 py-2 font-bold">カルマ (Calma)</td><td class="px-4 py-2">冷静・判断力</td></tr>
              <tr class="border-b border-[#efebe9] hover:bg-[#fff8e1]"><td class="px-4 py-2 font-bold">🤝</td><td class="px-4 py-2 font-bold">リアン (Lien)</td><td class="px-4 py-2">協力・つながり</td></tr>
              <tr class="border-b border-[#efebe9] hover:bg-[#fff8e1]"><td class="px-4 py-2 font-bold">⚡</td><td class="px-4 py-2 font-bold">アウダ (Audax)</td><td class="px-4 py-2">挑戦・冒険</td></tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>

    <%# --- 4. 開発者からの手紙 (Story) --- %>
    <div class="w-full max-w-4xl bg-[#fffdf5] p-10 sm:p-16 rounded-sm shadow-2xl border border-[#d7ccc8] relative transform rotate-[0.5deg]">
      
      <%# 紙の質感 %>
      <div class="absolute inset-0 opacity-30 pointer-events-none" style="background-image: url('https://www.transparenttextures.com/patterns/cream-paper.png');"></div>
      
      <div class="text-center mb-10 relative z-10">
        <p class="text-xs font-bold text-[#8d6e63] tracking-widest uppercase mb-2">MESSAGE FROM DEVELOPER　えりぃー</p>
        <h2 class="text-3xl font-black text-[#3e2723] font-serif">大人になったあなたへ</h2>
      </div>

      <div class="space-y-6 text-[#4e342e] text-base leading-loose font-medium text-justify sm:text-lg relative z-10">
        <p>
          子供の頃の私たちは毎年12月になると「今年は良い子だったかな？」と自分を振り返り、サンタさんからの評価を心待ちにしていました。あの頃のサンタさんは私たちの行いをすべて見ていて、公平に評価してくれる特別な存在でした。
        </p>
        <p>
          でも大人になるとサンタさんはプレゼントを持っては訪れてはくれません。じゃあ誰が私たちを評価してくれるでしょうか？上司でしょうか？それとも家族？友人？<br>
          実は、私たちの周りにいるすべての人が「サンタさん」なのです。
        </p>
        <p>
          同僚があなたの仕事ぶりに感謝し、友人があなたの優しさに救われ、家族があなたの存在に安心する。私たちは誰かにとっての「サンタさん」であり、同時に誰かから贈り物のような評価をもらう存在なのです。
        </p>
        
        <div class="py-4 px-6 bg-[#fff8e1] border-l-4 border-[#ffb300] italic text-sm sm:text-base text-[#5d4037] my-6">
          <ul class="space-y-2">
            <li>「質問に丁寧に答えてくれて、学習のモチベーションが上がった」</li>
            <li>「一緒に勉強していて、諦めずに続ける姿に刺激を受けた」</li>
            <li>「エラーで困っていた時、親身になって話をきいてくれた」</li>
            <li>「初心者の気持ちを理解して、共感してくれた」</li>
          </ul>
        </div>

        <p>
          こうした学習者同士の人間的な価値こそ、大人が求める「サンタさんからの評価」であり価値だと思います。<br>
          このシステムは、みんなが誰かのサンタさんになれる場所を作ります。クリスマスが一年中続く、温かい居場所の実現を目指しています。
        </p>

        <%# ▼▼▼ 核心メッセージ ▼▼▼ %>
        <div class="mt-10 pt-10 border-t border-dashed border-[#8d6e63] text-center">
          <p class="text-xl font-bold text-[#b71c1c] mb-4">
            そして、もうひとり。<br>大切なサンタさんがいます。
          </p>
          <p class="text-lg text-[#3e2723] leading-loose">
            それは、<span class="inline-block border-b-2 border-[#b71c1c] font-bold">あなた自身</span>です。
          </p>
          <p class="mt-4">
            誰よりもあなたの頑張りを知っているのは、あなた自身です。<br>
            Heartory Homeは、あなたが自分自身と向き合い、<br>
            「よく頑張ったね」と自分にプレゼントを贈るための場所でもあります。
          </p>
          <p class="mt-4 font-bold">
            さあ、あなただけの物語を始めましょう！！
          </p>
        </div>
      </div>

      <div class="mt-12 text-right relative z-10">
        <div class="inline-block text-center">
          <div class="w-20 h-20 bg-[#b71c1c] rounded-full shadow-lg flex items-center justify-center border-4 border-[#e57373] border-dashed opacity-90 mx-auto mb-2">
             <span class="text-3xl filter drop-shadow-md">🎁</span>
          </div>
          <p class="text-xs text-[#8d6e63] font-bold uppercase tracking-widest">Anta-Santa<br>Project</p>
        </div>
      </div>

    </div>

  </div>
</div>